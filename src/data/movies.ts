import { Movie } from "@/types/movie";

export const movies: Movie[] = [
  {
    id: "1",
    title: "The Godfather",
    year: "1972",
    director: "Francis Ford Coppola",
    country: "USA",
    genre: ["Crime", "Drama"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg",
    synopsis: "The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.",
    imdbId: "tt0068646",
    runtime: "175 min",
    awards: ["Academy Award for Best Picture", "Academy Award for Best Actor", "Academy Award for Best Adapted Screenplay"],
    cast: ["Marlon Brando", "Al Pacino", "James Caan", "Diane Keaton"],
    rating: "9.2/10",
    language: "English, Italian, Latin",
    releaseDate: "March 24, 1972",
    cinematography: "Gordon Willis",
    musicBy: "Nino Rota"
  },
  {
    id: "2",
    title: "Citizen Kane",
    year: "1941",
    director: "Orson Welles",
    country: "USA",
    genre: ["Drama", "Mystery"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BYjBiOTYxZWItMzdiZi00NjlkLWIzZTYtYmFhZjhiMTljOTdkXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg",
    synopsis: "Following the death of publishing tycoon Charles Foster Kane, reporters scramble to uncover the meaning of his final utterance; 'Rosebud'.",
    imdbId: "tt0033467",
    runtime: "119 min",
    awards: ["Academy Award for Best Original Screenplay"],
    cast: ["Orson Welles", "Joseph Cotten", "Dorothy Comingore", "Agnes Moorehead"],
    rating: "8.3/10",
    language: "English",
    releaseDate: "September 5, 1941",
    cinematography: "Gregg Toland",
    musicBy: "Bernard Herrmann"
  },
  {
    id: "3",
    title: "Seven Samurai",
    year: "1954",
    director: "Akira Kurosawa",
    country: "Japan",
    genre: ["Action", "Drama", "Adventure"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BNWQ3OTM4ZGItMWEwZi00MjI5LWI3YzgtNTYwNWRkNmIzMGI5XkEyXkFqcGdeQXVyNDY2MTk1ODk@._V1_.jpg",
    synopsis: "A poor village under attack by bandits recruits seven unemployed samurai to help them defend themselves.",
    imdbId: "tt0047478",
    runtime: "207 min",
    awards: ["Silver Lion at Venice Film Festival"],
    cast: ["Toshiro Mifune", "Takashi Shimura", "Keiko Tsushima"],
    rating: "8.6/10",
    language: "Japanese",
    releaseDate: "April 26, 1954",
    cinematography: "Asakazu Nakai",
    musicBy: "Fumio Hayasaka"
  },
  {
    id: "4",
    title: "Psycho",
    year: "1960",
    director: "Alfred Hitchcock",
    country: "USA",
    genre: ["Horror", "Mystery", "Thriller"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BNTQwNDM1YzItNDAxZC00NWY2LTk0M2UtNDIwNWI5OGUyNWUxXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg",
    synopsis: "A Phoenix secretary embezzles $40,000 from her employer's client, goes on the run, and checks into a remote motel run by a young man under the domination of his mother.",
    imdbId: "tt0054215",
    runtime: "109 min",
    awards: ["Nominated for 4 Academy Awards"],
    cast: ["Anthony Perkins", "Janet Leigh", "Vera Miles", "John Gavin"],
    rating: "8.5/10",
    language: "English",
    releaseDate: "September 8, 1960",
    cinematography: "John L. Russell",
    musicBy: "Bernard Herrmann"
  },
  {
    id: "5",
    title: "2001: A Space Odyssey",
    year: "1968",
    director: "Stanley Kubrick",
    country: "UK, USA",
    genre: ["Adventure", "Sci-Fi"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BMmNlYzRiNDctZWNhMi00MzI4LThkZTctMTUzMmZkMmFmNThmXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg",
    synopsis: "After discovering a mysterious artifact buried beneath the Lunar surface, mankind sets off on a quest to find its origins with help from intelligent supercomputer H.A.L. 9000.",
    imdbId: "tt0062622",
    runtime: "149 min",
    awards: ["Academy Award for Best Visual Effects"],
    cast: ["Keir Dullea", "Gary Lockwood", "William Sylvester"],
    rating: "8.3/10",
    language: "English, Russian",
    releaseDate: "April 6, 1968",
    cinematography: "Geoffrey Unsworth",
    musicBy: "Various classical selections"
  },
  {
    id: "6",
    title: "Casablanca",
    year: "1942",
    director: "Michael Curtiz",
    country: "USA",
    genre: ["Drama", "Romance", "War"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BY2IzZGY2YmEtYzljNS00NTM5LTgwMzUtMzM1NjQ4NGI0OTk0XkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_.jpg",
    synopsis: "A cynical expatriate American cafe owner struggles to decide whether or not to help his former lover and her fugitive husband escape the Nazis in French Morocco.",
    imdbId: "tt0034583",
    runtime: "102 min",
    awards: ["Academy Award for Best Picture", "Academy Award for Best Director", "Academy Award for Best Screenplay"],
    cast: ["Humphrey Bogart", "Ingrid Bergman", "Paul Henreid", "Claude Rains"],
    rating: "8.5/10",
    language: "English, French, German, Italian",
    releaseDate: "January 23, 1943",
    cinematography: "Arthur Edeson",
    musicBy: "Max Steiner"
  },
  {
    id: "7",
    title: "Spirited Away",
    year: "2001",
    director: "Hayao Miyazaki",
    country: "Japan",
    genre: ["Animation", "Adventure", "Fantasy"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BMjlmZmI5MDctNDE2YS00YWE0LWE5ZWItZDBhYWQ0NTcxNWRhXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg",
    synopsis: "During her family's move to the suburbs, a sullen 10-year-old girl wanders into a world ruled by gods, witches, and spirits, and where humans are changed into beasts.",
    imdbId: "tt0245429",
    runtime: "125 min",
    awards: ["Academy Award for Best Animated Feature", "Golden Bear (Berlin Film Festival)"],
    cast: ["Daveigh Chase", "Suzanne Pleshette", "Miyu Irino", "Rumi Hiiragi"],
    rating: "8.6/10",
    language: "Japanese",
    releaseDate: "July 20, 2001",
    cinematography: "Atsushi Okui",
    musicBy: "Joe Hisaishi"
  },
  {
    id: "8",
    title: "The Shawshank Redemption",
    year: "1994",
    director: "Frank Darabont",
    country: "USA",
    genre: ["Drama"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BNDE3ODcxYzMtY2YzZC00NmNlLWJiNDMtZDViZWM2MzIxZDYwXkEyXkFqcGdeQXVyNjAwNDUxODI@._V1_.jpg",
    synopsis: "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.",
    imdbId: "tt0111161",
    runtime: "142 min",
    awards: ["Nominated for 7 Academy Awards"],
    cast: ["Tim Robbins", "Morgan Freeman", "Bob Gunton", "William Sadler"],
    rating: "9.3/10",
    language: "English",
    releaseDate: "October 14, 1994",
    cinematography: "Roger Deakins",
    musicBy: "Thomas Newman"
  },
  {
    id: "9",
    title: "Some Like It Hot",
    year: "1959",
    director: "Billy Wilder",
    country: "USA",
    genre: ["Comedy", "Music", "Romance"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BNzAyOGIxYjAtMGY2NC00ZTgyLWIwMWEtYzY0OWQ4NDFjOTc5XkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_.jpg",
    synopsis: "After two male musicians witness a mob hit, they flee the state in an all-female band disguised as women, but further complications set in.",
    imdbId: "tt0053291",
    runtime: "121 min",
    awards: ["Academy Award for Best Costume Design"],
    cast: ["Marilyn Monroe", "Tony Curtis", "Jack Lemmon", "George Raft"],
    rating: "8.2/10",
    language: "English",
    releaseDate: "March 29, 1959",
    cinematography: "Charles Lang",
    musicBy: "Adolph Deutsch"
  },
  {
    id: "10",
    title: "Pulp Fiction",
    year: "1994",
    director: "Quentin Tarantino",
    country: "USA",
    genre: ["Crime", "Drama"],
    posterUrl: "https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg",
    synopsis: "The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.",
    imdbId: "tt0110912",
    runtime: "154 min",
    awards: ["Academy Award for Best Original Screenplay", "Palme d'Or at Cannes Film Festival"],
    cast: ["John Travolta", "Uma Thurman", "Samuel L. Jackson", "Bruce Willis"],
    rating: "8.9/10",
    language: "English, Spanish, French",
    releaseDate: "October 14, 1994",
    cinematography: "Andrzej Sekula",
    musicBy: "Various artists"
  }
];

export function getRandomMovie(): Movie {
  return movies[Math.floor(Math.random() * movies.length)];
}

export function getMovieById(id: string): Movie | undefined {
  return movies.find(movie => movie.id === id);
}

export function getAllGenres(): string[] {
  const genresSet = new Set<string>();
  movies.forEach(movie => {
    movie.genre.forEach(genre => {
      genresSet.add(genre);
    });
  });
  return Array.from(genresSet).sort();
}

export function getAllDirectors(): string[] {
  const directorsSet = new Set<string>();
  movies.forEach(movie => {
    directorsSet.add(movie.director);
  });
  return Array.from(directorsSet).sort();
}

export function getAllCountries(): string[] {
  const countriesSet = new Set<string>();
  movies.forEach(movie => {
    movie.country.split(', ').forEach(country => {
      countriesSet.add(country.trim());
    });
  });
  return Array.from(countriesSet).sort();
}

export function getDecadesList(): string[] {
  const decadesSet = new Set<string>();
  movies.forEach(movie => {
    const year = parseInt(movie.year);
    const decade = `${Math.floor(year / 10) * 10}s`;
    decadesSet.add(decade);
  });
  return Array.from(decadesSet).sort();
}

export function filterMovies(options: {
  genre?: string;
  director?: string;
  decade?: string;
  country?: string;
  searchTerm?: string;
}): Movie[] {
  let filtered = [...movies];

  if (options.genre) {
    filtered = filtered.filter(movie => movie.genre.includes(options.genre!));
  }

  if (options.director) {
    filtered = filtered.filter(movie => movie.director === options.director);
  }

  if (options.decade) {
    const decadeStart = parseInt(options.decade);
    filtered = filtered.filter(movie => {
      const year = parseInt(movie.year);
      return year >= decadeStart && year < decadeStart + 10;
    });
  }

  if (options.country) {
    filtered = filtered.filter(movie => movie.country.includes(options.country!));
  }

  if (options.searchTerm) {
    const term = options.searchTerm.toLowerCase();
    filtered = filtered.filter(movie =>
      movie.title.toLowerCase().includes(term) ||
      movie.director.toLowerCase().includes(term) ||
      movie.synopsis.toLowerCase().includes(term) ||
      (movie.cast && movie.cast.some(actor => actor.toLowerCase().includes(term)))
    );
  }

  return filtered;
}

/**
 * Get movies by genre
 */
export function getMoviesByGenre(genre: string): Movie[] {
  return movies.filter(movie =>
    movie.genre &&
    Array.isArray(movie.genre) &&
    movie.genre.includes(genre)
  );
}

/**
 * Get movies by director
 */
export function getDirectorMovies(director: string): Movie[] {
  return movies.filter(movie => movie.director === director);
}

/**
 * Get movies by decade
 */
export function getMoviesByDecade(startYear: number, endYear: number): Movie[] {
  return movies.filter(movie =>
    movie.year >= startYear && movie.year <= endYear
  );
}
